import{_ as e,c as s,o as l,ag as r}from"./chunks/framework.DPDPlp3K.js";const b=JSON.parse('{"title":"小程序构建工具: esbuild+sucrase+chokidar","description":"","frontmatter":{},"headers":[],"relativePath":"document/tools/mp-build.md","filePath":"document/tools/mp-build.md","lastUpdated":1743330488000}'),i={name:"document/tools/mp-build.md"};function o(t,a,d,u,c,h){return l(),s("div",null,a[0]||(a[0]=[r('<h1 id="小程序构建工具-esbuild-sucrase-chokidar" tabindex="-1">小程序构建工具: esbuild+sucrase+chokidar <a class="header-anchor" href="#小程序构建工具-esbuild-sucrase-chokidar" aria-label="Permalink to &quot;小程序构建工具: esbuild+sucrase+chokidar&quot;">​</a></h1><h2 id="基础概念的区分" tabindex="-1">基础概念的区分 <a class="header-anchor" href="#基础概念的区分" aria-label="Permalink to &quot;基础概念的区分&quot;">​</a></h2><ul><li>Parser: babel/esbuild/ts/swc/TS/uglify.js</li><li>Transforme: babel/esbuild/swc/sucrase/TS</li><li>Bundlers: webpack/rollup/esbuild/parcel</li></ul><h2 id="脚手架构建能力" tabindex="-1">脚手架构建能力 <a class="header-anchor" href="#脚手架构建能力" aria-label="Permalink to &quot;脚手架构建能力&quot;">​</a></h2><ul><li>使用esbuil转ts esm为js esm</li><li>使用sucrase转esm为cjs</li><li>最后使用chokidar做hmr热更新</li></ul><h3 id="esbuild的优点" tabindex="-1">esbuild的优点 <a class="header-anchor" href="#esbuild的优点" aria-label="Permalink to &quot;esbuild的优点&quot;">​</a></h3><p>基于go编写，多线程bundle效率相比js的工具提升一个数量级，</p><blockquote><p>但是不提供hmr能力，且拆chunk能力极弱</p></blockquote><h3 id="sucrase的优点" tabindex="-1">sucrase的优点 <a class="header-anchor" href="#sucrase的优点" aria-label="Permalink to &quot;sucrase的优点&quot;">​</a></h3><p>作为做快的单文件转换工具，sucrase与传统的以ast为基础转义的工具不同，他以token即即词法单元为基础进行转译，避免了转ast的开销，极大的提升了效率</p><blockquote><p>由于sucrase的版本老旧，对于许多ts语法都无法转译，所以会使用esbuild做前置转换</p></blockquote><h3 id="chokidar的优点" tabindex="-1">chokidar的优点 <a class="header-anchor" href="#chokidar的优点" aria-label="Permalink to &quot;chokidar的优点&quot;">​</a></h3><h4 id="监听文件的原理" tabindex="-1">监听文件的原理 <a class="header-anchor" href="#监听文件的原理" aria-label="Permalink to &quot;监听文件的原理&quot;">​</a></h4><h2 id="为什么没有使用其他脚手架" tabindex="-1">为什么没有使用其他脚手架 <a class="header-anchor" href="#为什么没有使用其他脚手架" aria-label="Permalink to &quot;为什么没有使用其他脚手架&quot;">​</a></h2>',14)]))}const m=e(i,[["render",o]]);export{b as __pageData,m as default};
